/* Generated by JavaFromJSON */
/*http://javafromjson.dashingrocket.com*/

package org.distantshoresmedia.model;

import android.util.JsonReader;
import android.util.JsonWriter;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.Arrays;

import de.greenrobot.dao.DaoException;

public class KeyPosition {

    static final private String kPercentWidthKey = "percent_width";
    static final private String kCharactersKey = "characters";

    private transient DaoSession daoSession;

    /** Used for active entity operations. */
    private transient KeyPositionDao myDao;

    private Long id;
    public Long getId() {
        return id;
    }
    public void setId(Long id) {
        this.id = id;
    }

    private String name;
    public void setName(String name) {
        this.name = name;
    }
    public String getName() {
        return name;
    }

    private double percentWidth;
    public void setPercentWidth(double percentWidth) {
        this.percentWidth = percentWidth;
    }
    public double getPercentWidth() {
        return percentWidth;
    }

	private KeyCharacter[] characters;
 	public void setCharacters(KeyCharacter[] characters) {
		this.characters = characters;
	}
	public KeyCharacter[] getCharacters() {
		return characters;
	}

    private int row;
    public int getRow() {
        return row;
    }
    public void setRow(int row) {
        this.row = row;
    }

    private int column;
    public void setColumn(int columns) {
        this.column = column;
    }
    public int getColumn() {
        return column;
    }

    public KeyPosition(double percentWidth, KeyCharacter[] characters, int row, int column){
        this.percentWidth = percentWidth;
        this.characters = characters;
        this.row = row;
        this.column = column;
    }


    static public KeyPosition getKeyboardFromJsonObject(JSONObject jsonObj, int row, int column){

//        System.out.println("Got to KeyPosition");

        try {
            double width = jsonObj.getDouble(kPercentWidthKey);

            JSONArray jsonChars = jsonObj.getJSONArray(kCharactersKey);

            KeyCharacter[] characters = new KeyCharacter[jsonChars.length()];

            for(int i = 0; i < jsonChars.length(); i++){

                JSONObject character = jsonChars.getJSONObject(i);
                characters[i] = KeyCharacter.getCharacterFromJsonObject(character);
            }

            KeyPosition position = new KeyPosition(width, characters, row, column);
            return position;
        }

        catch (JSONException e) {
            System.out.println("KeyPosition JSONException: " + e.toString());
            return null;
        }
    }

    @Override
    public String toString() {
        return "KeyPosition{" +
                "percentWidth=" + percentWidth +
                ", characters=" + Arrays.toString(characters) +
                ", row=" + row +
                ", column=" + column +
                '}';
    }

    /** called by internal mechanisms, do not call yourself. */
    public void __setDaoSession(DaoSession daoSession) {
        this.daoSession = daoSession;
        myDao = daoSession != null ? daoSession.getKeyPositionDao() : null;
    }

    /** Resets a to-many relationship, making the next get call to query for a fresh result. */
    public synchronized void resetVariants() {
//        KeyboardVariant = null;
    }

    /** Convenient call for {@link (Object)}. Entity must attached to an entity context. */
    public void delete() {
        if (myDao == null) {
            throw new DaoException("Entity is detached from DAO context");
        }
//        myDao.delete(this);
    }

    /** Convenient call for {@link(Object)}. Entity must attached to an entity context. */
    public void update() {
        if (myDao == null) {
            throw new DaoException("Entity is detached from DAO context");
        }
//        myDao.update(this);
    }

    /** Convenient call for {@link(Object)}. Entity must attached to an entity context. */
    public void refresh() {
        if (myDao == null) {
            throw new DaoException("Entity is detached from DAO context");
        }
//        myDao.refresh(this);
    }
}