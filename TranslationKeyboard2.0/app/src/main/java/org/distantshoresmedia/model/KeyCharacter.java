/* Generated by JavaFromJSON */
/*http://javafromjson.dashingrocket.com*/

package org.distantshoresmedia.model;

import android.util.Log;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.Arrays;

public class KeyCharacter {

    static final private String TAG = "KeyCharacter";
    static final private String kModeMaskKey = "modmask";
    static final private String kUnicodeValue = "unicode";

    private Long id;
    public Long getId() {
        return id;
    }
    public void setId(Long id) {
        this.id = id;
    }

    private String name;
    public void setName(String name) {
        this.name = name;
    }
    public String getName() {
        return name;
    }

	private int[] unicodeValues;
 	public void setUnicodeValues(int[] unicodeValues) {
		this.unicodeValues = unicodeValues;
	}
	public int[] getUnicodeValues() {
		return unicodeValues;
	}

	private Integer modMask;
 	public void setModmask(int modMask) {
		this.modMask = modMask;
	}
	public Integer getModmask() {
		return modMask;
	}


    public KeyCharacter(Integer modMask, int[] unicodeValue){
        this.unicodeValues = unicodeValue;
        this.modMask = modMask;
    }

    public Integer[] getUnicodeAsIntegerObjects(){
        Integer[] integers = new Integer[unicodeValues.length];

        for(int i = 0; i < unicodeValues.length; i++){
            integers[i] = unicodeValues[i];
        }
        return integers;
    }


    static public KeyCharacter getCharacterFromJsonObject(JSONObject jsonObj){

        try {
            int mask = jsonObj.getInt(kModeMaskKey);
            JSONArray jsonHexes = jsonObj.getJSONArray(kUnicodeValue);
            int[] hexes = new int[jsonHexes.length()];

            for(int i = 0; i < jsonHexes.length(); i++){
                hexes[i] = (Integer) jsonHexes.get(i);
            }

            KeyCharacter newChar = new KeyCharacter(mask, hexes);
            return newChar;
        }
        catch (JSONException e) {
            Log.e(TAG, "KeyCharacter JsonExcepetion; " + e.toString());
            if(jsonObj != null){
                Log.e(TAG, "Error Json:" + jsonObj.toString());
            }
            e.printStackTrace();
            return null;
        }
    }

    public JSONObject getAsJson() {

        try{
            JSONObject jsonObject = new JSONObject();
            jsonObject.put(kModeMaskKey, modMask);
            JSONArray unicodeArray = new JSONArray();

            for(long unicode : unicodeValues){
                unicodeArray.put(unicode);
            }
            jsonObject.put(kUnicodeValue, unicodeArray);
            return jsonObject;
        }
        catch (JSONException e){
            e.printStackTrace();
            return null;
        }
    }

    @Override
    public String toString() {
        return "KeyCharacter{" +
                ", id=" + id +
                ", name='" + name + '\'' +
                ", unicodeValues=" + Arrays.toString(unicodeValues) +
                ", modMask=" + modMask +
                '}';
    }
}